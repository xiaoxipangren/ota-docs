# Management UI

系统管理UI界面为以下用例提供了不同的视图：

* 部署管理视图：终端管理和手动部署
* 更新管理视图：软件仓库元数据管理
* 工件管理视图：管理工件
* 终端过滤器管理视图：管理用于手动部署和大规模推送的终端过滤器
* 推送管理：管理大规模推送，如推送分组编排

## 部署管理

### 用途

用于终端概览、终端管理和手动启动更新部署。

### 功能列表

* 终端状态：检测所有终端的状态
* 终端列表允许基于以下条件进行过滤：

  * 已安装或被分配的更新
  * 终端更新状态
  * 终端标签
  * 名称、描述

* 更新列表允许基于以下条件进行过滤：

  * 更新标签
  * 更新名称、描述

* 拖放一个更新至终端上以启动一个推送

* 拖动更新、标签和终端至删除图标以删除

* 选中终端以查看其更新历史
* 终端批量上传：通过一个CSV文件批量导入终端信息，格式每行两列属性\(ControllerID,Target Name\)

![](/assets/deployment_mgmt.png)

# 更新管理

### 用途

提供更新管理视图以管理软件仓库元数据，如更新、更新包含的软件模块以及他们的类型。

### 功能列表

* 浏览、创建、删除、修改更新
* 浏览、创建、删除、修改更新类型
* 浏览、创建、删除、修改软件模块
* 浏览、创建、删除、修改模块类型
* 分配模块至更新\(拖动模块至更新可完成分配\)

# ![](/assets/distribution_mgmt.png)

# 工件管理

### 用途

用于管理工件以及他们的元数据。

### 功能列表

* 浏览、创建、删除、修改软件模块
* 浏览、创建、删除、修改软件模块类型
* 上传或删除软件模块对应的工件

![](/assets/artifact_mgmt.png)

# 推送管理

### 用途

用于管理面向大规模的终端的更新推送，并监控其状态。

### 功能列表

* 浏览、创建、删除、修改推送
* 启动、暂停、恢复一个推送
* 监控推送和推送分组的状态
* 查看推送和各推送组内的终端状态

灰度推送

* 通过指定分组数自动对推送进行分组
* 通过定义过滤条件进行高级分组
* 支持设定分组的成功率阈值，以自动触发下一分组的推送启动
* 支持设定分组的失败率阈值，以自动触发更新应急机制，如关闭推送等

![](/assets/rollout_mgmt.png)![](/assets/rollout_groups.png)

# 终端过滤器管理

### 用途

查看和管理终端过滤器。

### 功能列表

* 通过自定义查询过滤终端
* 浏览、创建、删除、修改过滤器

### 过滤器定义规则

基本的过滤器格式是：字段 &lt;基本运算符&gt; 值 &lt;组合运算符&gt;

* 字段：待过虑资源的属性名
* 值：相应的属性值
* 基本运算符：简单查询运算符，支持以几种：

  * ==：等于
  * !=：不等于
  * =IN=：属于某一集合，如"name=IN=\(target1,target2\)

* 组合运算符：

  * and
  * or
  * 通配符 \*

### 过滤器示例

| 查询 | 说明 |
| :--- | :--- |
| updatestatus==error | 查询处于error状态的终端设备 |
| controllerId!=192.168.2.42 | 查询controllerId不是192.168.2.42的所有终端 |
| name==\*CCU\* | 查询名称中包含CCU的所有终端 |
| name==\*CCU\* or description==\*CCU\* | 查询名称中或者描述中包含CCU的所有终端 |
| name==\*SHC\* and description==\*SHC\* | 查询名称中和描述中都包含SHC的终端 |
| name==CCU\* and updatestatus==pending | 查询名称以CCU开头并且处于挂起状态的终端 |
| \(assignedds.name==‘ECU-DS’ and description==test\) or updatestatus!=error | 查询被分配了名称为ECU-DS的更新且描述为test的终端或者更新状态不是error的终端 |
| \(updatestatus!=In\_sync or updatestatus!=error\) and name==\*SHC1\* | 查询名称包含SHC1且更既不是In\_sync也不是error的终端 |
| \(updatestatus!=error or updatestatus!=pending\) and \(name==\*CCU\* or description==\*CCU\*\) | 查询名称或者描述中包含CCU且更新状态既不是error也不是pending的终端 |

![](/assets/target_filter.png)

